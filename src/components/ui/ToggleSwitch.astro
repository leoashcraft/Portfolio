---
/**
 * Reusable toggle switch visual component
 * Parent component handles state management via the 'checked' prop or JS
 */
interface Props {
  checked?: boolean;
  class?: string;
}

const { checked = false, class: className = '' } = Astro.props;
---

<div
  class:list={[
    'toggle-switch rounded-full relative transition-colors',
    checked ? 'bg-neon-cyan' : 'bg-gray-600',
    className
  ]}
  data-checked={checked ? 'true' : 'false'}
>
  <div class="toggle-switch-knob absolute rounded-full bg-white transition-transform"></div>
</div>

<style is:global>
  /* Toggle switch sizing */
  .toggle-switch {
    width: 44px;
    height: 24px;
  }

  .toggle-switch-knob {
    width: 20px;
    height: 20px;
    top: 2px;
    left: 2px;
  }

  /* Toggle switch state styles - controlled via data attribute or classes */
  .toggle-switch[data-checked="true"],
  .toggle-switch.checked {
    background-color: var(--color-neon-cyan);
  }

  .toggle-switch[data-checked="true"] .toggle-switch-knob,
  .toggle-switch.checked .toggle-switch-knob {
    transform: translateX(20px);
  }

  .toggle-switch[data-checked="false"]:not(.checked),
  .toggle-switch:not([data-checked="true"]):not(.checked) {
    background-color: rgb(75, 85, 99);
  }

  .toggle-switch[data-checked="false"]:not(.checked) .toggle-switch-knob,
  .toggle-switch:not([data-checked="true"]):not(.checked) .toggle-switch-knob {
    transform: translateX(0);
  }
</style>
